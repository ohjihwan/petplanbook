<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CM020</title>
    <link rel="stylesheet" href="/assets/css/swiper.css" />
    <link rel="stylesheet" href="/assets/css/common-ui.css" />
    <link rel="stylesheet" href="/assets/css/style.css" />
  </head>
  <body>
    <div class="page">
      <div class="container">
        <header class="header">
          <!-- header.html ë¡œ í˜ì´ì§€ í†µí•© ê´€ë¦¬ -->
        </header>

        <main class="contents">
          <div class="content">
            <section class="main-banner">
              <figure class="img-box">
                <img src="/assets/imgs/img/img-CM010-1.jpg" alt="" />
              </figure>
              <div class="text-box">
                <h2 class="title">ë§ˆì´ ì¥ì†Œ</h2>
                <p class="txt">
                  ë‹¤ë¥¸ ë°˜ë ¤ì¸ë“¤ì´ ë‹¤ë…€ì˜¨ ë£¨íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ í•´ë³´ì„¸ìš”!
                </p>
                <div class="guide-arrow" aria-label="í•˜ë‹¨ì— ì»¨í…ì¸ ê°€ ìˆìŠµë‹ˆë‹¤">
                  <i></i>
                  <i></i>
                </div>
              </div>
            </section>

            <section class="my-region-area">
              <div class="inner">
                <div class="search-box">
                  <div class="field">
                    <label for="region" class="label">ì§€ì—­</label>
                    <div class="select">
                      <select name="region" id="region">
                        <option value="">ì§€ì—­ ì„ íƒ</option>
                        <option value="ê°•ì›íŠ¹ë³„ìì¹˜ë„">ê°•ì›íŠ¹ë³„ìì¹˜ë„</option>
                        <option value="ê²½ê¸°ë„">ê²½ê¸°ë„</option>
                        <option value="ê²½ìƒë‚¨ë„">ê²½ìƒë‚¨ë„</option>
                        <option value="ê²½ìƒë¶ë„">ê²½ìƒë¶ë„</option>
                        <option value="ê´‘ì£¼ê´‘ì—­ì‹œ">ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                        <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ">ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                        <option value="ëŒ€ì „ê´‘ì—­ì‹œ">ëŒ€ì „ê´‘ì—­ì‹œ</option>
                        <option value="ë¶€ì‚°ê´‘ì—­ì‹œ">ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                        <option value="ì„œìš¸íŠ¹ë³„ì‹œ">ì„œìš¸íŠ¹ë³„ì‹œ</option>
                        <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ">ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                        <option value="ìš¸ì‚°ê´‘ì—­ì‹œ">ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                        <option value="ì¸ì²œê´‘ì—­ì‹œ">ì¸ì²œê´‘ì—­ì‹œ</option>
                        <option value="ì „ë¼ë‚¨ë„">ì „ë¼ë‚¨ë„</option>
                        <option value="ì „ë¼ë¶ë„">ì „ë¼ë¶ë„</option>
                        <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„">ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                        <option value="ì¶©ì²­ë‚¨ë„">ì¶©ì²­ë‚¨ë„</option>
                        <option value="ì¶©ì²­ë¶ë„">ì¶©ì²­ë¶ë„</option>
                      </select>
                    </div>
                  </div>
                  <div class="field">
                    <label for="text1" class="label">ì¥ì†Œ ê²€ìƒ‰</label>
                    <div class="text">
                      <input
                        type="text"
                        id="text1"
                        required
                        placeholder="(ì˜ˆì‹œ:ì• ê²¬ìœ ì¹˜ì›)"
                      />
                    </div>
                  </div>
                  <div class="field">
                    <label for="text3" class="label">ë‚ ì§œ ì„ íƒ</label>
                    <div class="text">
                      <input
                        type="date"
                        id="text3"
                        required
                        placeholder="ë‚ ì§œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”"
                      />
                    </div>
                  </div>
                  <div class="buttons">
                    <button type="button" class="field-search-button">
                      <span class="hide">ê²€ìƒ‰</span>
                    </button>
                  </div>
                </div>

                <div class="result-empty">
                  <p>ì•„ì§ ê¸€ì´ ì—†ì–´ìš”</p>
                </div>

                <div class="search-result-box plr-0">
                  <ul>
                    <li>
                      <a
                        href="javascript:void(0)"
                        role="button"
                        onclick="modalOpenId('detail')"
                      >
                        <div class="img-box">
                          <img src="/assets/imgs/temp/temp-list2.jpg" alt="" />
                        </div>
                        <div class="txts">
                          <strong class="main-txt"
                            >ë¬´ì§€ê°œ
                            <span class="point">ì• ê²¬</span> ìœ ì¹˜ì›</strong
                          >
                          <span class="sub-txt">ê²½ê¸°ë„ í‰íƒì‹œ ë¹„ì „ë™</span>
                        </div>
                      </a>
                      <button
                        type="button"
                        class="close"
                        onclick="deleteData(this, 'li')"
                      >
                        <span class="hide">ì‚­ì œ</span>
                      </button>
                    </li>
                    <li>
                      <a
                        href="javascript:void(0)"
                        role="button"
                        onclick="modalOpenId('detail')"
                      >
                        <div class="img-box">
                          <img src="/assets/imgs/temp/temp-list2.jpg" alt="" />
                        </div>
                        <div class="txts">
                          <strong class="main-txt"
                            ><span class="point">ì• ê²¬</span>ê°€ê²Œ
                            ìŠ¤íƒ€í•„ë“œì ì </strong
                          >
                          <span class="sub-txt">ì„œìš¸ì‹œ ì„œì´ˆêµ¬ ë°©ë°°ë™</span>
                        </div>
                      </a>
                      <button
                        type="button"
                        class="close"
                        onclick="deleteData(this, 'li')"
                      >
                        <span class="hide">ì‚­ì œ</span>
                      </button>
                    </li>
                    <li>
                      <a
                        href="javascript:void(0)"
                        role="button"
                        onclick="modalOpenId('detail')"
                      >
                        <div class="img-box">
                          <img src="/assets/imgs/temp/temp-list2.jpg" alt="" />
                        </div>
                        <div class="txts">
                          <strong class="main-txt"
                            >ë³„ë‚˜ë¼ <span class="point">ì• ê²¬</span>ë™ë°˜
                            í˜¸í…”</strong
                          >
                          <span class="sub-txt">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™</span>
                        </div>
                      </a>
                      <button
                        type="button"
                        class="close"
                        onclick="deleteData(this, 'li')"
                      >
                        <span class="hide">ì‚­ì œ</span>
                      </button>
                    </li>
                    <li>
                      <a
                        href="javascript:void(0)"
                        role="button"
                        onclick="modalOpenId('detail')"
                      >
                        <div class="img-box">
                          <img src="/assets/imgs/temp/temp-list2.jpg" alt="" />
                        </div>
                        <div class="txts">
                          <strong class="main-txt"
                            >ê³µì£¼ë‹˜ <span class="point">ì• ê²¬</span>ë™ë°˜
                            í˜¸í…”</strong
                          >
                          <span class="sub-txt">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™</span>
                        </div>
                      </a>
                      <button
                        type="button"
                        class="close"
                        onclick="deleteData(this, 'li')"
                      >
                        <span class="hide">ì‚­ì œ</span>
                      </button>
                    </li>

                    <li>
                      <a
                        href="javascript:void(0)"
                        role="button"
                        onclick="modalOpenId('detail')"
                      >
                        <div class="img-box">
                          <img src="/assets/imgs/temp/temp-list2.jpg" alt="" />
                        </div>
                        <div class="txts">
                          <strong class="main-txt"
                            >ì¼€ì´ìŠ¤ TEST <span class="point">ì• ê²¬</span></strong
                          >
                          <span class="sub-txt">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™</span>
                        </div>
                      </a>
                      <button
                        type="button"
                        class="close"
                        onclick="deleteData(this, 'li')"
                      >
                        <span class="hide">ì‚­ì œ</span>
                      </button>
                    </li>
                  </ul>
                </div>
              </div>
            </section>
          </div>
        </main>

        <footer class="footer">
          <!-- footer.html ë¡œ í˜ì´ì§€ í†µí•© ê´€ë¦¬ -->
        </footer>
      </div>
    </div>

    <div id="login-modal" class="modal -login-modal"></div>

    <div id="detail" class="modal">
      <div class="container">
        <header class="header">
          <div class="inner">
            <button type="button" class="close" onclick="modalClose()">
              <span class="hide">ë‹«ê¸°</span>
            </button>
          </div>
        </header>

        <main class="contents">
          <div class="content">
            <div class="location-detail">
              <div class="title-box">
                <h2 class="title">ì¥ì†Œ ìì„¸íˆ</h2>
                <p class="txt">ìì„¸íˆ ì½ê³ ë‚˜ì„œ ì €ì¥í•´ë³´ì„¸ìš”</p>
              </div>

              <div class="detail-imgs swiper mySwiper">
                <div class="swiper-wrapper">
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp1.png" alt="" />
                  </div>
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp2.png" alt="" />
                  </div>
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp3.png" alt="" />
                  </div>
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp4.jpg" alt="" />
                  </div>
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp5.jpg" alt="" />
                  </div>
                  <div class="swiper-slide">
                    <img src="/assets/imgs/temp/temp6.jpg" alt="" />
                  </div>
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
              </div>

              <dl class="details">
                <dt>ìƒí˜¸ì´ë¦„</dt>
                <dd>í¼í”¼ìŠ¤ë“œë¦¼</dd>
                <dt>ìƒì„¸ì£¼ì†Œ</dt>
                <dd>ì„œìš¸ ì„œì´ˆêµ¬ ì„œë˜ë¡œ</dd>
                <dt>ë™ë°˜ê°€ëŠ¥</dt>
                <dd>ê°•ì•„ì§€/ê³ ì–‘ì´</dd>
                <dt>ëŒ€í‘œë²ˆí˜¸</dt>
                <dd>02-000-0000</dd>
                <dt>í™ˆí˜ì´ì§€</dt>
                <dd>instagram.com/puppy</dd>
              </dl>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="/assets/libs/jquery/jquery-3.6.0.min.js"></script>
    <script src="/assets/libs/jquery-ui/jquery-ui.min.js"></script>
    <script src="/assets/libs/jquery-ui/jquery.ui.touch-punch.min.js"></script>
    <script src="/assets/libs/swiper/dist/js/swiper.min.js"></script>
    <script src="/assets/js/style.js"></script>
    <script src="/assets/js/dev.js"></script>
    <script>
      async function loadPlaces() {
        try {
          const response = await fetch("http://localhost:5501/api/places");
          if (!response.ok) {
            throw new Error(`ì„œë²„ ì‘ë‹µ ì‹¤íŒ¨: ${response.status}`);
          }

          const places = await response.json();
          const resultBox = document.querySelector(".search-result-box ul");
          resultBox.innerHTML = ""; // ê¸°ì¡´ lië“¤ ì´ˆê¸°í™”

          if (places.length === 0) {
            document.querySelector(".result-empty").style.display = "block";
          } else {
            document.querySelector(".result-empty").style.display = "none";
          }

          places.forEach((place) => {
            const li = document.createElement("li");
            li.innerHTML = `
			<a href="javascript:void(0)" role="button" onclick="modalOpenId('detail')">
				<div class="img-box">
					<img src="/assets/imgs/temp/temp-list2.jpg" alt="">
				</div>
				<div class="txts">
					<strong class="main-txt">${place.title}</strong>
					<span class="sub-txt">${place.addr1}</span>
				</div>
			</a>
			<button type="button" class="close" onclick="deleteData(this, 'li')"><span class="hide">ì‚­ì œ</span></button>
		`;
            resultBox.appendChild(li);
          });
        } catch (error) {
          console.error(error);
          alert("âŒ ì¥ì†Œ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: " + error.message);
        }
      }

      // í˜ì´ì§€ ë¡œë“œ í›„ ì‹¤í–‰
      window.onload = loadPlaces;
    </script>
    <script>
  async function loadPlaceList() {
    try {
      const response = await fetch("http://localhost:8081/api/places");
      const places = await response.json();

      const listBox = document.getElementById("place-list");
      listBox.innerHTML = ""; // ì´ˆê¸°í™”

      if (places.length === 0) {
        listBox.innerHTML = "<p>ğŸ“­ ì €ì¥ëœ ì¥ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      places.forEach((place) => {
        const div = document.createElement("div");
        div.className = "place-item";
        div.innerHTML = `
          <strong>${place.title}</strong><br/>
          <span>${place.addr1}</span><br/>
          <span>${place.tel || 'ë²ˆí˜¸ ì—†ìŒ'}</span><br/>
          <hr/>
        `;
        listBox.appendChild(div);
      });
    } catch (error) {
      console.error("ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", error);
      alert("ì„œë²„ ì˜¤ë¥˜: " + error.message);
    }
  }

  document.addEventListener("DOMContentLoaded", loadPlaceList);



      // âœ… í˜ì´ì§€ ë¡œë“œì‹œ ì‹¤í–‰
      window.addEventListener("DOMContentLoaded", fetchAndDisplayPlaces);
  </script>    
    </script>
  </body>
</html>
